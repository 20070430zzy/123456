<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>姻缘测算系统 - 爱情匹配度分析</title>
    <!-- 引入Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 全局重置和基础样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-color: #e91e63;
            --primary-light: #ff80ab;
            --primary-dark: #880e4f;
            --secondary-color: #673ab7;
            --secondary-light: #9575cd;
            --secondary-dark: #311b92;
            --accent-color: #ff5722;
            --text-color: #333;
            --text-light: #666;
            --background-color: #f9f9f9;
            --card-background: #fff;
            --border-radius: 12px;
            --box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            overflow-x: hidden;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        body.loaded {
            opacity: 1;
        }
        
        /* 容器样式 */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* 页头样式 */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 60px 0 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
            background-position: bottom;
        }
        
        .header-content {
            position: relative;
            z-index: 1;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        /* 导航样式 */
        nav {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-top: -30px;
            position: sticky;
            top: 20px;
            z-index: 100;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .nav-links li {
            padding: 0;
        }
        
        .nav-links a {
            display: block;
            padding: 15px 25px;
            color: var(--text-color);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 500;
            position: relative;
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background-color: var(--primary-color);
            transition: var(--transition);
            transform: translateX(-50%);
        }
        
        .nav-links a:hover {
            color: var(--primary-color);
        }
        
        .nav-links a:hover::after {
            width: 80%;
        }
        
        /* 主内容区样式 */
        main {
            padding: 50px 0;
        }
        
        /* 计算器容器样式 */
        .calculator-container {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin-bottom: 40px;
        }
        
        /* 介绍部分样式 */
        .intro-section {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background-color: rgba(233, 30, 99, 0.05);
            border-radius: var(--border-radius);
        }
        
        .intro-section h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 2rem;
        }
        
        .intro-text {
            color: var(--text-light);
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
        }
        
        /* 表单部分样式 */
        .form-section {
            margin-top: 40px;
        }
        
        .person-info {
            margin-bottom: 30px;
            padding: 25px;
            background-color: #f5f5f5;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
        }
        
        .person-info h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
        }
        
        .person-info h3 i {
            margin-right: 10px;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -15px 20px;
        }
        
        .form-group {
            flex: 1;
            min-width: 200px;
            padding: 0 15px;
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }
        
        .form-group input[type="text"],
        .form-group input[type="date"],
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            background-color: white;
        }
        
        .form-group input[type="text"]:focus,
        .form-group input[type="date"]:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.1);
        }
        
        .gender-group {
            display: flex;
            align-items: center;
        }
        
        .gender-option {
            margin-right: 20px;
            display: flex;
            align-items: center;
        }
        
        .gender-option input[type="radio"] {
            margin-right: 5px;
        }
        
        .hobbies-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .hobby-option {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            background-color: white;
            border-radius: 20px;
            border: 2px solid #ddd;
            transition: var(--transition);
        }
        
        .hobby-option:hover {
            border-color: var(--primary-color);
            background-color: rgba(233, 30, 99, 0.05);
        }
        
        .hobby-option input[type="checkbox"] {
            margin-right: 8px;
        }
        
        .form-divider {
            height: 2px;
            background: linear-gradient(to right, transparent, var(--primary-light), transparent);
            margin: 30px 0;
        }
        
        .submit-btn {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(233, 30, 99, 0.3);
        }
        
        .submit-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(233, 30, 99, 0.4);
        }
        
        /* 结果部分样式 */
        .result-section {
            display: none;
            animation: fadeIn 0.6s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-container {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .result-header h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 2.2rem;
        }
        
        .total-score {
            font-size: 4rem;
            font-weight: 700;
            color: var(--primary-color);
            margin: 20px 0;
            display: inline-block;
            position: relative;
        }
        
        .total-score::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 80px;
            border: 8px solid rgba(233, 30, 99, 0.1);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: -1;
        }
        
        .match-level {
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 10px;
        }
        
        /* 个人信息卡片 */
        .info-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .person-card {
            flex: 1;
            min-width: 300px;
            background-color: #f5f5f5;
            border-radius: var(--border-radius);
            padding: 25px;
            transition: var(--transition);
            border-top: 4px solid var(--primary-color);
        }
        
        .person-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }
        
        .person-card h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .person-info-item {
            display: flex;
            margin-bottom: 12px;
            align-items: flex-start;
        }
        
        .person-info-label {
            width: 100px;
            font-weight: 500;
            color: var(--text-light);
        }
        
        .person-info-value {
            flex: 1;
            color: var(--text-color);
        }
        
        .element-tag {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .element-tag[data-element="wood"] {
            background-color: #8BC34A;
            color: white;
        }
        
        .element-tag[data-element="fire"] {
            background-color: #F44336;
            color: white;
        }
        
        .element-tag[data-element="earth"] {
            background-color: #FF9800;
            color: white;
        }
        
        .element-tag[data-element="metal"] {
            background-color: #9E9E9E;
            color: white;
        }
        
        .element-tag[data-element="water"] {
            background-color: #2196F3;
            color: white;
        }
        
        /* 匹配指数部分 */
        .match-indicators {
            margin-bottom: 40px;
        }
        
        .match-indicators h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.6rem;
        }
        
        .indicator-item {
            margin-bottom: 20px;
        }
        
        .indicator-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .indicator-name {
            color: var(--text-color);
        }
        
        .indicator-score {
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .progress-bar {
            height: 12px;
            background-color: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-light), var(--primary-color));
            border-radius: 6px;
            transition: width 1s ease;
            position: relative;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* 分析部分 */
        .analysis-section {
            margin-bottom: 40px;
            padding: 30px;
            background-color: rgba(103, 58, 183, 0.05);
            border-radius: var(--border-radius);
        }
        
        .analysis-section h3 {
            color: var(--secondary-color);
            margin-bottom: 20px;
            font-size: 1.6rem;
            position: relative;
            padding-bottom: 10px;
        }
        
        .analysis-section h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background-color: var(--secondary-color);
            border-radius: 3px;
        }
        
        .analysis-text {
            line-height: 1.8;
            color: var(--text-color);
        }
        
        /* 建议列表 */
        .advice-list {
            list-style: none;
            padding: 0;
        }
        
        .advice-item {
            padding: 15px 20px;
            background-color: white;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            position: relative;
            padding-left: 45px;
        }
        
        .advice-number {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 25px;
            height: 25px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        /* 重新测算按钮 */
        .restart-section {
            text-align: center;
            margin-top: 40px;
        }
        
        .restart-btn {
            padding: 12px 30px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(103, 58, 183, 0.3);
        }
        
        .restart-btn:hover {
            background-color: var(--secondary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(103, 58, 183, 0.4);
        }
        
        /* 加载状态 */
        .loading-section {
            display: none;
            text-align: center;
            padding: 80px 20px;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(233, 30, 99, 0.1);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: var(--text-light);
            font-size: 1.1rem;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .calculator-container,
            .result-container {
                padding: 25px;
            }
            
            .form-group {
                min-width: 100%;
            }
            
            .total-score {
                font-size: 3rem;
            }
            
            .person-card {
                min-width: 100%;
            }
        }
        
        /* 隐藏类 */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <h1>姻缘测算系统</h1>
            <p class="subtitle">探索您与伴侣的匹配度，获取专业的爱情建议</p>
        </div>
    </header>
    
    <div class="container">
        <nav>
            <ul class="nav-links">
                <li><a href="#introduction"><i class="fas fa-info-circle"></i> 系统介绍</a></li>
                <li><a href="#calculator"><i class="fas fa-calculator"></i> 开始测算</a></li>
                <li><a href="#result-section"><i class="fas fa-heart"></i> 测算结果</a></li>
            </ul>
        </nav>
        
        <main>
            <section id="introduction" class="intro-section">
                <h2><i class="fas fa-heart"></i> 姻缘测算系统</h2>
                <p class="intro-text">
                    本系统结合传统五行学说、星座配对理论以及现代心理学原理，为您提供专业的爱情匹配度分析。
                    通过输入您和伴侣的基本信息，我们将从多个维度进行综合评估，帮助您更好地了解彼此，
                    为您的爱情之路提供有价值的建议和指导。
                </p>
            </section>
            
            <section id="calculator" class="calculator-container">
                <form id="calculator-form" class="form-section">
                    <!-- 第一个人信息 -->
                    <div class="person-info">
                        <h3><i class="fas fa-user"></i> 您的信息</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="person1-name-input">姓名</label>
                                <input type="text" id="person1-name-input" name="person1-name" placeholder="请输入您的姓名" required>
                            </div>
                            
                            <div class="form-group">
                                <label>性别</label>
                                <div class="gender-group">
                                    <div class="gender-option">
                                        <input type="radio" id="person1-gender-male" name="person1-gender" value="男" checked>
                                        <label for="person1-gender-male">男</label>
                                    </div>
                                    <div class="gender-option">
                                        <input type="radio" id="person1-gender-female" name="person1-gender" value="女">
                                        <label for="person1-gender-female">女</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="person1-birthday-input">出生日期</label>
                                <input type="date" id="person1-birthday-input" name="person1-birthday" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="person1-location-input">所在地</label>
                                <input type="text" id="person1-location-input" name="person1-location" placeholder="请输入您的所在地">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="person1-mbti-input">MBTI性格类型</label>
                                <select id="person1-mbti-input" name="person1-mbti">
                                    <option value="">请选择</option>
                                    <option value="ISTJ">ISTJ - 物流师</option>
                                    <option value="ISFJ">ISFJ - 守卫者</option>
                                    <option value="INFJ">INFJ - 提倡者</option>
                                    <option value="INTJ">INTJ - 建筑师</option>
                                    <option value="ISTP">ISTP - 鉴赏家</option>
                                    <option value="ISFP">ISFP - 探险家</option>
                                    <option value="INFP">INFP - 调停者</option>
                                    <option value="INTP">INTP - 逻辑学家</option>
                                    <option value="ESTP">ESTP - 企业家</option>
                                    <option value="ESFP">ESFP - 表演者</option>
                                    <option value="ENFP">ENFP - 竞选者</option>
                                    <option value="ENTP">ENTP - 辩论家</option>
                                    <option value="ESTJ">ESTJ - 总经理</option>
                                    <option value="ESFJ">ESFJ - 执政官</option>
                                    <option value="ENFJ">ENFJ - 主人公</option>
                                    <option value="ENTJ">ENTJ - 指挥官</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="person1-love-language-input">爱情语言</label>
                                <select id="person1-love-language-input" name="person1-love-language">
                                    <option value="">请选择</option>
                                    <option value="肯定的言辞">肯定的言辞</option>
                                    <option value="精心的时刻">精心的时刻</option>
                                    <option value="接受礼物">接受礼物</option>
                                    <option value="服务的行动">服务的行动</option>
                                    <option value="身体的接触">身体的接触</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>兴趣爱好（最多选择5项）</label>
                            <div class="hobbies-container">
                                <div class="hobby-option">
                                    <input type="checkbox" id="person1-hobby1" name="person1-hobbies" value="阅读">
                                    <label for="person1-hobby1">阅读</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person1-hobby2" name="person1-hobbies" value="音乐">
                                    <label for="person1-hobby2">音乐</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person1-hobby3" name="person1-hobbies" value="旅行">
                                    <label for="person1-hobby3">旅行</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person1-hobby4" name="person1-hobbies" value="运动">
                                    <label for="person1-hobby4">运动</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person1-hobby5" name="person1-hobbies" value="烹饪">
                                    <label for="person1-hobby5">烹饪</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person1-hobby6" name="person1-hobbies" value="摄影">
                                    <label for="person1-hobby6">摄影</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person1-hobby7" name="person1-hobbies" value="绘画">
                                    <label for="person1-hobby7">绘画</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person1-hobby8" name="person1-hobbies" value="游戏">
                                    <label for="person1-hobby8">游戏</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 分隔线 -->
                    <div class="form-divider"></div>
                    
                    <!-- 第二个人信息 -->
                    <div class="person-info">
                        <h3><i class="fas fa-user-friends"></i> 对方信息</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="person2-name-input">姓名</label>
                                <input type="text" id="person2-name-input" name="person2-name" placeholder="请输入对方的姓名" required>
                            </div>
                            
                            <div class="form-group">
                                <label>性别</label>
                                <div class="gender-group">
                                    <div class="gender-option">
                                        <input type="radio" id="person2-gender-male" name="person2-gender" value="男">
                                        <label for="person2-gender-male">男</label>
                                    </div>
                                    <div class="gender-option">
                                        <input type="radio" id="person2-gender-female" name="person2-gender" value="女" checked>
                                        <label for="person2-gender-female">女</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="person2-birthday-input">出生日期</label>
                                <input type="date" id="person2-birthday-input" name="person2-birthday" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="person2-location-input">所在地</label>
                                <input type="text" id="person2-location-input" name="person2-location" placeholder="请输入对方的所在地">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="person2-mbti-input">MBTI性格类型</label>
                                <select id="person2-mbti-input" name="person2-mbti">
                                    <option value="">请选择</option>
                                    <option value="ISTJ">ISTJ - 物流师</option>
                                    <option value="ISFJ">ISFJ - 守卫者</option>
                                    <option value="INFJ">INFJ - 提倡者</option>
                                    <option value="INTJ">INTJ - 建筑师</option>
                                    <option value="ISTP">ISTP - 鉴赏家</option>
                                    <option value="ISFP">ISFP - 探险家</option>
                                    <option value="INFP">INFP - 调停者</option>
                                    <option value="INTP">INTP - 逻辑学家</option>
                                    <option value="ESTP">ESTP - 企业家</option>
                                    <option value="ESFP">ESFP - 表演者</option>
                                    <option value="ENFP">ENFP - 竞选者</option>
                                    <option value="ENTP">ENTP - 辩论家</option>
                                    <option value="ESTJ">ESTJ - 总经理</option>
                                    <option value="ESFJ">ESFJ - 执政官</option>
                                    <option value="ENFJ">ENFJ - 主人公</option>
                                    <option value="ENTJ">ENTJ - 指挥官</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="person2-love-language-input">爱情语言</label>
                                <select id="person2-love-language-input" name="person2-love-language">
                                    <option value="">请选择</option>
                                    <option value="肯定的言辞">肯定的言辞</option>
                                    <option value="精心的时刻">精心的时刻</option>
                                    <option value="接受礼物">接受礼物</option>
                                    <option value="服务的行动">服务的行动</option>
                                    <option value="身体的接触">身体的接触</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>兴趣爱好（最多选择5项）</label>
                            <div class="hobbies-container">
                                <div class="hobby-option">
                                    <input type="checkbox" id="person2-hobby1" name="person2-hobbies" value="阅读">
                                    <label for="person2-hobby1">阅读</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person2-hobby2" name="person2-hobbies" value="音乐">
                                    <label for="person2-hobby2">音乐</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person2-hobby3" name="person2-hobbies" value="旅行">
                                    <label for="person2-hobby3">旅行</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person2-hobby4" name="person2-hobbies" value="运动">
                                    <label for="person2-hobby4">运动</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person2-hobby5" name="person2-hobbies" value="烹饪">
                                    <label for="person2-hobby5">烹饪</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person2-hobby6" name="person2-hobbies" value="摄影">
                                    <label for="person2-hobby6">摄影</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person2-hobby7" name="person2-hobbies" value="绘画">
                                    <label for="person2-hobby7">绘画</label>
                                </div>
                                <div class="hobby-option">
                                    <input type="checkbox" id="person2-hobby8" name="person2-hobbies" value="游戏">
                                    <label for="person2-hobby8">游戏</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">开始测算</button>
                </form>
            </section>
            
            <!-- 结果显示区域 -->
            <section id="result-section" class="result-section">
                <div class="result-container">
                    <div class="result-header">
                        <h2>爱情匹配度分析</h2>
                        <div id="total-score" class="total-score">0%</div>
                        <div id="match-level" class="match-level"></div>
                    </div>
                    
                    <!-- 个人信息卡片 -->
                    <div class="info-cards">
                        <div class="person-card">
                            <h3>
                                <span id="person1-name"></span>
                                <span id="person1-gender"></span>
                            </h3>
                            <div class="person-info-item">
                                <span class="person-info-label">出生日期</span>
                                <span class="person-info-value" id="person1-birthday"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">所在地</span>
                                <span class="person-info-value" id="person1-location"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">MBTI性格</span>
                                <span class="person-info-value" id="person1-mbti"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">爱情语言</span>
                                <span class="person-info-value" id="person1-love-language"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">兴趣爱好</span>
                                <span class="person-info-value" id="person1-hobbies"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">五行属性</span>
                                <span class="person-info-value">
                                    <span id="person1-element" class="element-tag"></span>
                                </span>
                            </div>
                        </div>
                        
                        <div class="person-card">
                            <h3>
                                <span id="person2-name"></span>
                                <span id="person2-gender"></span>
                            </h3>
                            <div class="person-info-item">
                                <span class="person-info-label">出生日期</span>
                                <span class="person-info-value" id="person2-birthday"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">所在地</span>
                                <span class="person-info-value" id="person2-location"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">MBTI性格</span>
                                <span class="person-info-value" id="person2-mbti"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">爱情语言</span>
                                <span class="person-info-value" id="person2-love-language"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">兴趣爱好</span>
                                <span class="person-info-value" id="person2-hobbies"></span>
                            </div>
                            <div class="person-info-item">
                                <span class="person-info-label">五行属性</span>
                                <span class="person-info-value">
                                    <span id="person2-element" class="element-tag"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 匹配指数 -->
                    <div class="match-indicators">
                        <h3>匹配指数</h3>
                        <div class="indicator-item">
                            <div class="indicator-header">
                                <span class="indicator-name">星座匹配度</span>
                                <span id="zodiac-score" class="indicator-score">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div id="zodiac-progress" class="progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="indicator-item">
                            <div class="indicator-header">
                                <span class="indicator-name">地域匹配度</span>
                                <span id="location-score" class="indicator-score">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div id="location-progress" class="progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="indicator-item">
                            <div class="indicator-header">
                                <span class="indicator-name">性格匹配度</span>
                                <span id="personality-score" class="indicator-score">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div id="personality-progress" class="progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="indicator-item">
                            <div class="indicator-header">
                                <span class="indicator-name">五行匹配度</span>
                                <span id="element-score" class="indicator-score">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div id="element-progress" class="progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 五行关系分析 -->
                    <div class="analysis-section">
                        <h3>五行关系分析</h3>
                        <p id="element-relation-text" class="analysis-text"></p>
                    </div>
                    
                    <!-- 爱情建议 -->
                    <div class="analysis-section">
                        <h3>爱情建议</h3>
                        <p id="love-advice-text" class="analysis-text"></p>
                    </div>
                    
                    <!-- 互动小测试 -->
                    <div class="analysis-section">
                        <h3>互动小测试</h3>
                        <p id="interactive-question-text" class="analysis-text"></p>
                    </div>
                    
                    <!-- 配对详解 -->
                    <div class="analysis-section">
                        <h3>配对详解</h3>
                        <p id="pairing-detail-text" class="analysis-text"></p>
                    </div>
                    
                    <!-- 星座配对分析 -->
                    <div class="analysis-section">
                        <h3>星座配对分析</h3>
                        <p id="zodiac-analysis-text" class="analysis-text"></p>
                    </div>
                    
                    <!-- 星座爱情运势 -->
                    <div class="analysis-section">
                        <h3>星座爱情运势</h3>
                        <p id="love-fortunes-text" class="analysis-text"></p>
                    </div>
                    
                    <!-- 个人星座特点分析 -->
                    <div class="analysis-section">
                        <h3>个人星座特点分析</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <h4>您的特点</h4>
                                <p><strong>优点：</strong><span id="person1-positive-traits"></span></p>
                                <p><strong>缺点：</strong><span id="person1-negative-traits"></span></p>
                                <p><strong>爱情风格：</strong><span id="person1-love-style"></span></p>
                            </div>
                            <div class="form-group">
                                <h4>对方特点</h4>
                                <p><strong>优点：</strong><span id="person2-positive-traits"></span></p>
                                <p><strong>缺点：</strong><span id="person2-negative-traits"></span></p>
                                <p><strong>爱情风格：</strong><span id="person2-love-style"></span></p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- MBTI性格匹配分析 -->
                    <div class="analysis-section">
                        <h3>MBTI性格匹配分析</h3>
                        <p id="mbti-analysis-text" class="analysis-text"></p>
                    </div>
                    
                    <!-- 兴趣爱好匹配分析 -->
                    <div class="analysis-section">
                        <h3>兴趣爱好匹配分析</h3>
                        <p id="hobbies-analysis-text" class="analysis-text"></p>
                    </div>
                    
                    <!-- 爱情语言匹配分析 -->
                    <div class="analysis-section">
                        <h3>爱情语言匹配分析</h3>
                        <p id="love-language-analysis-text" class="analysis-text"></p>
                    </div>
                    
                    <!-- 具体建议 -->
                    <div class="analysis-section">
                        <h3>具体建议</h3>
                        <ul id="specific-advice-list" class="advice-list"></ul>
                    </div>
                    
                    <!-- 重新测算按钮 -->
                    <div class="restart-section">
                        <button id="restart-btn" class="restart-btn">重新测算</button>
                    </div>
                </div>
            </section>
            
            <!-- 加载状态 -->
            <section id="loading-section" class="loading-section">
                <div class="loading-spinner"></div>
                <p class="loading-text">正在计算您的爱情匹配度，请稍候...</p>
            </section>
        </main>
    </div>
    
    <script>
        // DOM元素获取
        const calculatorForm = document.getElementById('calculator-form');
        const resultSection = document.getElementById('result-section');
        const loadingSection = document.getElementById('loading-section');
        const restartBtn = document.getElementById('restart-btn');
        const totalScoreEl = document.getElementById('total-score');
        const matchLevelEl = document.getElementById('match-level');
        const person1NameEl = document.getElementById('person1-name');
        const person1GenderEl = document.getElementById('person1-gender');
        const person1BirthdayEl = document.getElementById('person1-birthday');
        const person1LocationEl = document.getElementById('person1-location');
        const person1MbtiEl = document.getElementById('person1-mbti');
        const person1LoveLanguageEl = document.getElementById('person1-love-language');
        const person1HobbiesEl = document.getElementById('person1-hobbies');
        const person1ElementEl = document.getElementById('person1-element');
        const person2NameEl = document.getElementById('person2-name');
        const person2GenderEl = document.getElementById('person2-gender');
        const person2BirthdayEl = document.getElementById('person2-birthday');
        const person2LocationEl = document.getElementById('person2-location');
        const person2MbtiEl = document.getElementById('person2-mbti');
        const person2LoveLanguageEl = document.getElementById('person2-love-language');
        const person2HobbiesEl = document.getElementById('person2-hobbies');
        const person2ElementEl = document.getElementById('person2-element');
        const zodiacScoreEl = document.getElementById('zodiac-score');
        const locationScoreEl = document.getElementById('location-score');
        const personalityScoreEl = document.getElementById('personality-score');
        const elementScoreEl = document.getElementById('element-score');
        const zodiacProgressEl = document.getElementById('zodiac-progress');
        const locationProgressEl = document.getElementById('location-progress');
        const personalityProgressEl = document.getElementById('personality-progress');
        const elementProgressEl = document.getElementById('element-progress');
        const elementRelationTextEl = document.getElementById('element-relation-text');
        const loveAdviceTextEl = document.getElementById('love-advice-text');
        const interactiveQuestionEl = document.getElementById('interactive-question-text');
        const pairingDetailTextEl = document.getElementById('pairing-detail-text');
        const zodiacAnalysisTextEl = document.getElementById('zodiac-analysis-text');
        const loveFortunesTextEl = document.getElementById('love-fortunes-text');
        const person1PositiveTraitsEl = document.getElementById('person1-positive-traits');
        const person1NegativeTraitsEl = document.getElementById('person1-negative-traits');
        const person1LoveStyleEl = document.getElementById('person1-love-style');
        const person2PositiveTraitsEl = document.getElementById('person2-positive-traits');
        const person2NegativeTraitsEl = document.getElementById('person2-negative-traits');
        const person2LoveStyleEl = document.getElementById('person2-love-style');
        const mbtiAnalysisTextEl = document.getElementById('mbti-analysis-text');
        const hobbiesAnalysisTextEl = document.getElementById('hobbies-analysis-text');
        const loveLanguageAnalysisTextEl = document.getElementById('love-language-analysis-text');
        const specificAdviceListEl = document.getElementById('specific-advice-list');
        
        // 表单验证逻辑
        function validateForm() {
            const person1Name = document.getElementById('person1-name-input').value.trim();
            const person1Birthday = document.getElementById('person1-birthday-input').value;
            const person2Name = document.getElementById('person2-name-input').value.trim();
            const person2Birthday = document.getElementById('person2-birthday-input').value;
            
            if (!person1Name || !person2Name) {
                alert('请填写两人的姓名');
                return false;
            }
            
            if (!person1Birthday || !person2Birthday) {
                alert('请选择两人的出生日期');
                return false;
            }
            
            return true;
        }
        
        // 表单提交处理
        calculatorForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!validateForm()) {
                return;
            }
            
            // 显示加载状态
            calculatorForm.classList.add('hidden');
            loadingSection.classList.remove('hidden');
            
            // 构建表单数据
            const formData = new FormData(calculatorForm);
            const data = {
                person1_name: formData.get('person1-name'),
                person1_gender: formData.get('person1-gender'),
                person1_birthday: formData.get('person1-birthday'),
                person1_location: formData.get('person1-location'),
                person1_mbti: formData.get('person1-mbti'),
                person1_love_language: formData.get('person1-love-language'),
                person1_hobbies: Array.from(formData.getAll('person1-hobbies')),
                person2_name: formData.get('person2-name'),
                person2_gender: formData.get('person2-gender'),
                person2_birthday: formData.get('person2-birthday'),
                person2_location: formData.get('person2-location'),
                person2_mbti: formData.get('person2-mbti'),
                person2_love_language: formData.get('person2-love-language'),
                person2_hobbies: Array.from(formData.getAll('person2-hobbies'))
            };
            
            try {
                // 模拟API调用延迟
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // 生成模拟结果数据
                const result = generateMockResult(data);
                
                // 显示结果
                displayResult(result);
                
                // 隐藏加载状态，显示结果
                loadingSection.classList.add('hidden');
                resultSection.classList.remove('hidden');
                
                // 滚动到结果部分
                resultSection.scrollIntoView({ behavior: 'smooth' });
            } catch (error) {
                console.error('Error calculating result:', error);
                alert('计算过程中出现错误，请重试');
                loadingSection.classList.add('hidden');
                calculatorForm.classList.remove('hidden');
            }
        });
        
        // 生成模拟结果数据
        function generateMockResult(data) {
            // 生成随机但合理的匹配分数
            const zodiacScore = Math.floor(Math.random() * 20) + 70;
            const locationScore = Math.floor(Math.random() * 30) + 60;
            const personalityScore = Math.floor(Math.random() * 25) + 65;
            const elementScore = Math.floor(Math.random() * 20) + 75;
            
            // 计算总分
            const totalScore = Math.round((zodiacScore + locationScore + personalityScore + elementScore) / 4);
            
            // 确定匹配等级
            let matchLevel;
            if (totalScore >= 90) matchLevel = '天作之合';
            else if (totalScore >= 80) matchLevel = '非常匹配';
            else if (totalScore >= 70) matchLevel = '比较匹配';
            else if (totalScore >= 60) matchLevel = '基本匹配';
            else matchLevel = '需要努力';
            
            // 计算五行元素
            const elements = ['木', '火', '土', '金', '水'];
            const person1Element = elements[Math.floor(Math.random() * elements.length)];
            const person2Element = elements[Math.floor(Math.random() * elements.length)];
            
            // 星座信息
            const zodiacSigns = ['白羊座', '金牛座', '双子座', '巨蟹座', '狮子座', '处女座', '天秤座', '天蝎座', '射手座', '摩羯座', '水瓶座', '双鱼座'];
            const person1Zodiac = zodiacSigns[Math.floor(Math.random() * zodiacSigns.length)];
            const person2Zodiac = zodiacSigns[Math.floor(Math.random() * zodiacSigns.length)];
            
            // 生成五行关系描述
            const elementRelations = {
                '木木': '你们都像树木一样生长，能够相互扶持成长，但有时也会争夺阳光。',
                '木火': '木生火，你们的关系就像木柴点燃火焰，热情四溢但需要适当控制。',
                '木土': '木克土，需要彼此理解和包容，才能和谐共处。',
                '木金': '金克木，需要找到平衡点，发挥各自的优势。',
                '木水': '水生木，你们的关系像水滋养树木，相互滋润，共同成长。',
                '火木': '木生火，你们的关系充满活力和热情，能够相互激励。',
                '火火': '两团火焰相遇，可以烧得更旺，但也需要注意不要灼伤彼此。',
                '火土': '火生土，你们的关系像火焰温暖大地，稳定而充满能量。',
                '火金': '火克金，需要学会相互尊重和理解，才能长久相处。',
                '火水': '水克火，你们的关系需要找到平衡点，相互补充。',
                '土木': '木克土，但土也能承载木，你们需要相互支持，取长补短。',
                '土火': '火生土，你们的关系稳定而温暖，能够相互包容。',
                '土土': '你们像坚实的大地，关系稳固但可能缺乏变化，需要偶尔制造惊喜。',
                '土金': '土生金，你们的关系像大地孕育宝藏，稳步发展，潜力无限。',
                '土水': '土克水，需要学会适应彼此的差异，相互理解。',
                '金木': '金克木，需要找到各自的空间，保持适当的距离。',
                '金火': '火克金，但金也能在火中淬炼，你们的关系需要经历一些挑战才能更加坚固。',
                '金土': '土生金，你们的关系像大地滋养金属，稳定而珍贵。',
                '金金': '你们像两块金属，都很坚强但可能缺乏柔软，需要学会温柔相处。',
                '金水': '金生水，你们的关系像金属汇聚成水，流畅而和谐。',
                '水木': '水生木，你们的关系像水滋养树木，温柔而充满生机。',
                '水火': '水克火，你们的性格可能差异较大，需要相互妥协和理解。',
                '水土': '土克水，但水也能滋润土壤，你们的关系需要找到平衡点。',
                '水金': '金生水，你们的关系像金属汇聚成水，相互补充，和谐共生。',
                '水水': '你们像两条溪流，能够相互融合，但也需要保持各自的独立性。'
            };
            
            const elementRelationKey = person1Element + person2Element;
            const elementRelation = elementRelations[elementRelationKey] || '你们的五行组合独特，需要用包容和理解来经营这段关系。';
            
            // 星座配对分析
            const zodiacAnalysis = `${person1Zodiac}和${person2Zodiac}的组合在星座学中有着独特的互动模式。${person1Zodiac}的热情与${person2Zodiac}的细腻形成了很好的互补，你们在性格上既有相似之处，又能互相学习。在日常生活中，你们可能会有一些小摩擦，但总体来说能够和谐相处。`;
            
            // 返回结果数据
            return {
                totalScore,
                matchLevel,
                zodiacScore,
                locationScore,
                personalityScore,
                elementScore,
                person1: {
                    name: data.person1_name,
                    gender: data.person1_gender,
                    birthday: formatDate(data.person1_birthday),
                    location: data.person1_location || '未提供',
                    mbti: data.person1_mbti || '未提供',
                    loveLanguage: data.person1_love_language || '未提供',
                    hobbies: data.person1_hobbies.join('、') || '未提供',
                    element: person1Element,
                    zodiac: person1Zodiac,
                    positiveTraits: '性格开朗、善于沟通、富有创造力、有责任感、乐观向上',
                    negativeTraits: '有时过于冲动、缺乏耐心、追求完美、容易焦虑、有点固执',
                    loveStyle: '热情主动，愿意为对方付出，重视情感交流和互动'
                },
                person2: {
                    name: data.person2_name,
                    gender: data.person2_gender,
                    birthday: formatDate(data.person2_birthday),
                    location: data.person2_location || '未提供',
                    mbti: data.person2_mbti || '未提供',
                    loveLanguage: data.person2_love_language || '未提供',
                    hobbies: data.person2_hobbies.join('、') || '未提供',
                    element: person2Element,
                    zodiac: person2Zodiac,
                    positiveTraits: '温柔体贴、善解人意、稳重可靠、有同理心、勤奋努力',
                    negativeTraits: '有时过于敏感、优柔寡断、缺乏自信、容易妥协、有点消极',
                    loveStyle: '细腻温柔，注重细节，喜欢稳定和安全感，愿意为感情投入'
                },
                elementRelation,
                loveAdvice: '在这段关系中，你们需要更多地倾听对方的想法和感受，学会站在对方的角度思考问题。保持良好的沟通是维持关系的关键，记得经常表达对彼此的欣赏和爱意。',
                interactiveQuestion: '你们第一次见面时的场景是怎样的？这个问题可以帮助你们回忆起最初的美好，增强彼此的连接。',
                pairingDetail: '你们的配对在多个维度上都表现不错，尤其是在性格和价值观方面有很多共同点。虽然偶尔会有小的分歧，但只要保持开放的心态和良好的沟通，这些都可以轻松解决。',
                zodiacAnalysis,
                loveFortunes: '近期你们的感情运势不错，有机会一起经历一些特别的事情，这些经历会让你们的关系更加紧密。建议多安排一些共同活动，增进彼此的了解。',
                mbtiAnalysis: '你们的MBTI性格类型组合在人际关系中有着独特的优势，能够相互理解和支持。在面对问题时，你们可能会有不同的解决方式，但正是这种差异让你们的关系更加丰富多彩。',
                hobbiesAnalysis: '你们有一些共同的兴趣爱好，这是维持关系的重要基础。建议多花时间一起参与这些活动，同时也尊重彼此的个人兴趣，给对方足够的空间。',
                loveLanguageAnalysis: '你们的爱情语言可能有所不同，需要学会用对方喜欢的方式表达爱意。了解并满足彼此的情感需求，是让关系长久的关键。',
                specificAdvice: [
                    '每天花10分钟时间进行深度交流，分享彼此的想法和感受。',
                    '定期安排约会时间，保持关系的新鲜感。',
                    '学会欣赏对方的优点，经常表达感激之情。',
                    '在发生分歧时，保持冷静，避免情绪化的反应。',
                    '支持对方的个人发展和梦想，共同成长。'
                ]
            };
        }
        
        // 显示结果
        function displayResult(result) {
            // 填充总分和匹配等级
            animateScore(totalScoreEl, 0, result.totalScore, 1500);
            matchLevelEl.textContent = result.matchLevel;
            
            // 设置匹配等级样式
            if (result.totalScore >= 90) {
                matchLevelEl.style.color = '#4CAF50';
            } else if (result.totalScore >= 80) {
                matchLevelEl.style.color = '#8BC34A';
            } else if (result.totalScore >= 70) {
                matchLevelEl.style.color = '#CDDC39';
            } else if (result.totalScore >= 60) {
                matchLevelEl.style.color = '#FFC107';
            } else {
                matchLevelEl.style.color = '#FF5722';
            }
            
            // 填充第一个人的信息
            person1NameEl.textContent = result.person1.name;
            
            // 设置性别图标
            const person1GenderIcon = document.createElement('i');
            person1GenderIcon.className = result.person1.gender === '男' ? 'fa fa-male' : 'fa fa-female';
            person1GenderIcon.style.marginLeft = '10px';
            person1GenderIcon.style.color = result.person1.gender === '男' ? '#2196F3' : '#F44336';
            person1GenderEl.innerHTML = '';
            person1GenderEl.appendChild(person1GenderIcon);
            
            person1BirthdayEl.textContent = result.person1.birthday;
            person1LocationEl.textContent = result.person1.location;
            person1MbtiEl.textContent = result.person1.mbti;
            person1LoveLanguageEl.textContent = result.person1.loveLanguage;
            person1HobbiesEl.textContent = result.person1.hobbies;
            person1ElementEl.textContent = result.person1.element;
            person1ElementEl.setAttribute('data-element', getElementKey(result.person1.element));
            
            // 填充第二个人的信息
            person2NameEl.textContent = result.person2.name;
            
            // 设置性别图标
            const person2GenderIcon = document.createElement('i');
            person2GenderIcon.className = result.person2.gender === '男' ? 'fa fa-male' : 'fa fa-female';
            person2GenderIcon.style.marginLeft = '10px';
            person2GenderIcon.style.color = result.person2.gender === '男' ? '#2196F3' : '#F44336';
            person2GenderEl.innerHTML = '';
            person2GenderEl.appendChild(person2GenderIcon);
            
            person2BirthdayEl.textContent = result.person2.birthday;
            person2LocationEl.textContent = result.person2.location;
            person2MbtiEl.textContent = result.person2.mbti;
            person2LoveLanguageEl.textContent = result.person2.loveLanguage;
            person2HobbiesEl.textContent = result.person2.hobbies;
            person2ElementEl.textContent = result.person2.element;
            person2ElementEl.setAttribute('data-element', getElementKey(result.person2.element));
            
            // 填充各项匹配指数
            zodiacScoreEl.textContent = `${result.zodiacScore}%`;
            locationScoreEl.textContent = `${result.locationScore}%`;
            personalityScoreEl.textContent = `${result.personalityScore}%`;
            elementScoreEl.textContent = `${result.elementScore}%`;
            
            // 更新进度条
            updateProgressBar(zodiacProgressEl, result.zodiacScore);
            updateProgressBar(locationProgressEl, result.locationScore);
            updateProgressBar(personalityProgressEl, result.personalityScore);
            updateProgressBar(elementProgressEl, result.elementScore);
            
            // 填充五行关系
            elementRelationTextEl.textContent = result.elementRelation;
            
            // 填充爱情建议
            loveAdviceTextEl.textContent = result.loveAdvice;
            
            // 填充互动小测试
            interactiveQuestionEl.textContent = result.interactiveQuestion;
            
            // 填充配对详解
            pairingDetailTextEl.textContent = result.pairingDetail;
            
            // 填充星座配对分析
            zodiacAnalysisTextEl.textContent = result.zodiacAnalysis;
            
            // 填充星座爱情运势
            loveFortunesTextEl.textContent = result.loveFortunes;
            
            // 填充个人星座特点分析
            person1PositiveTraitsEl.textContent = result.person1.positiveTraits;
            person1NegativeTraitsEl.textContent = result.person1.negativeTraits;
            person1LoveStyleEl.textContent = result.person1.loveStyle;
            
            person2PositiveTraitsEl.textContent = result.person2.positiveTraits;
            person2NegativeTraitsEl.textContent = result.person2.negativeTraits;
            person2LoveStyleEl.textContent = result.person2.loveStyle;
            
            // 填充MBTI性格匹配分析
            mbtiAnalysisTextEl.textContent = result.mbtiAnalysis;
            
            // 填充兴趣爱好匹配分析
            hobbiesAnalysisTextEl.textContent = result.hobbiesAnalysis;
            
            // 填充爱情语言匹配分析
            loveLanguageAnalysisTextEl.textContent = result.loveLanguageAnalysis;
            
            // 填充具体建议
            specificAdviceListEl.innerHTML = '';
            result.specificAdvice.forEach((advice, index) => {
                const li = document.createElement('li');
                li.className = 'advice-item';
                li.innerHTML = `
                    <span class="advice-number">${index + 1}</span>
                    ${advice}
                `;
                specificAdviceListEl.appendChild(li);
            });
        }
        
        // 分数动画
        function animateScore(element, start, end, duration) {
            let startTime = null;
            
            function animation(currentTime) {
                if (startTime === null) startTime = currentTime;
                const timeElapsed = currentTime - startTime;
                const progress = Math.min(timeElapsed / duration, 1);
                const currentScore = Math.floor(progress * (end - start) + start);
                
                element.textContent = `${currentScore}%`;
                
                if (progress < 1) {
                    requestAnimationFrame(animation);
                }
            }
            
            requestAnimationFrame(animation);
        }
        
        // 更新进度条
        function updateProgressBar(element, percentage) {
            setTimeout(() => {
                element.style.width = `${percentage}%`;
            }, 300);
        }
        
        // 格式化日期
        function formatDate(dateString) {
            const date = new Date(dateString);
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }
        
        // 获取五行元素键名
        function getElementKey(element) {
            const elementMap = {
                '木': 'wood',
                '火': 'fire',
                '土': 'earth',
                '金': 'metal',
                '水': 'water'
            };
            return elementMap[element] || 'wood';
        }
        
        // 重新测算按钮事件
        restartBtn.addEventListener('click', function() {
            // 隐藏结果，显示表单
            resultSection.classList.add('hidden');
            calculatorForm.classList.remove('hidden');
            
            // 重置表单
            calculatorForm.reset();
            
            // 滚动到表单部分
            calculatorForm.scrollIntoView({ behavior: 'smooth' });
        });
        
        // 导航链接平滑滚动
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
        
        // 页面加载动画
        window.addEventListener('load', function() {
            document.body.classList.add('loaded');
        });
        
        // 处理复选框最多选择5项的限制
        function setupHobbiesLimit() {
            const setupLimit = (prefix) => {
                const checkboxes = document.querySelectorAll(`input[name="${prefix}-hobbies"]`);
                
                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        const checkedCount = document.querySelectorAll(`input[name="${prefix}-hobbies"]:checked`).length;
                        
                        if (checkedCount >= 5 && this.checked) {
                            checkboxes.forEach(cb => {
                                if (!cb.checked) {
                                    cb.disabled = true;
                                }
                            });
                        } else {
                            checkboxes.forEach(cb => {
                                cb.disabled = false;
                            });
                        }
                    });
                });
            };
            
            setupLimit('person1');
            setupLimit('person2');
        }
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            setupHobbiesLimit();
        });
    </script>
</body>
</html>
